const API_ENDPOINT="http://localhost:5000/rating",REFRESH_RATE=1;function x(e,t,n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(i.responseText,n,r)},i.open("GET",e,!0),i.send(null)}function w(e){var t=e.split("(")[0].split(",");if(2==t.length)return t[0]=t[0].trim(),t[1]=t[1].trim(),t[0]+" "+t[1]}function z(){for(var e=document.querySelectorAll(".sec-instructor"),t=0;t<e.length;t++)if("True"!=e[t].getAttribute("processed")){var n=e[t].innerText;if(void 0!==n){var r=w(n);if(void 0!==r){if(rating=cache[r],void 0!==rating){if(""==rating)continue;y(rating,e[t],!1)}else{var i=r.split(" "),o=i[0],a=i[1];x(API_ENDPOINT+"?firstName="+encodeURIComponent(o)+"&lastName="+encodeURIComponent(a)+"&uni=NJIT",y,e[t],!0),cache[r]=""}e[t].setAttribute("processed","True")}}}return setTimeout(z,1e3*REFRESH_RATE),e.length}function y(e,t,n){n&&(1==e.length&&(e+=".0"),cache[w(t.innerText)]=e),t.innerHTML+=" ("+e+")"}cache={},console.log("Loading up RateMyProfessors for schedule builder!"),window.addEventListener("load",z);